<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>My IoT Dashboard</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #0f172a;
      color: #f8fafc;
      text-align: center;
      margin-top: 10%;
    }
    h1 { color: #38bdf8; }
    a {
      display: inline-block;
      background-color: #1e293b;
      color: #f8fafc;
      padding: 12px 24px;
      margin: 10px;
      border-radius: 8px;
      text-decoration: none;
      font-size: 18px;
      transition: background 0.3s;
    }
    a:hover { background-color: #334155; }
  </style>
</head>
<body>
  <h1>Dust Collector Dashboard</h1>
  <div>This page is mostly a placeholder for good things to come, but for development, here are links to the stacks containers</div>
  <div id="links"></div>

  <script>
    // Dynamically generate links based on current host
    const host = window.location.hostname;
    const protocol = window.location.protocol;

    const services = [
      { name: 'Home Assistant', port: 8123, path: ""  },
      { name: 'Node-RED', port: 1880, path: ""  },
      { name: 'ESPHome', port: 6052, path: ""  },
      { name: 'MQTT Explorer Web', port: 8083, path: ""  },
	  { name: 'Portainer', port: 9000, path: "" },
	  { name: 'DC Configuration', port: 80, path: "/json-editor/index.html" },
    ];

    const linksDiv = document.getElementById('links');
    services.forEach(service => {
      const url = `${protocol}//${host}:${service.port}${service.path}`;
      const link = document.createElement('a');
      link.href = url;
      link.target = "_blank";
      link.textContent = service.name;
      linksDiv.appendChild(link);
    });
  </script>
</body>
</html>
