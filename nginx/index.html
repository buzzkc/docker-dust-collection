<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Dust Collector Dashboard</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #0f172a;
      color: #f8fafc;
      text-align: center;
      margin-top: 10%;
    }
    h1 { color: #38bdf8; }
	a {
	  color: #f8fafc;
	}
    #links a {
      display: inline-block;
      background-color: #1e293b;
      color: #f8fafc;
      padding: 12px 24px;
      margin: 10px;
      border-radius: 8px;
      text-decoration: none;
      font-size: 18px;
      transition: background 0.3s;
    }
    #links a:hover { background-color: #334155; }
  </style>
</head>
<body>
  <h1>Dust Collector Dashboard</h1>
  <div>Use the following links to view the application dashboards:
	  
		  <p>NodeRed - Used to manage flows and messages to and from MQTT.</p>
		  <p>ESPHome - Used to manage devices and firmware code on each device.</p>
		  <p>MQTT Explorer - Used to view messages being sent to the MQTT broker (mosquitto).</p>
		  <p>DC Configuration - Page with drag/drop functions to organize and configure your dust collection system.</p>
		  <p>Portainer - Used to manage manage docker container, not installed by default, see <a href="https://docs.portainer.io/start/install-ce" target="_blank">here</a>.</p>
	  
  </div>
  <div id="links"></div>

  <script>
    // Dynamically generate links based on current host
    const host = window.location.hostname;
    const protocol = window.location.protocol;

    const services = [
      //{ name: 'Home Assistant', port: 8123, path: ""  },
      { name: 'Node-RED', port: 1880, path: ""  },
      { name: 'ESPHome', port: 6052, path: ""  },
      { name: 'MQTT Explorer Web', port: 8083, path: ""  },
	  { name: 'DC Configuration', port: 80, path: "/json-editor/index.html" },
	  { name: 'Portainer', port: 9000, path: "" },
	  
    ];

    const linksDiv = document.getElementById('links');
    services.forEach(service => {
      const url = `${protocol}//${host}:${service.port}${service.path}`;
      const link = document.createElement('a');
      link.href = url;
      link.target = "_blank";
      link.textContent = service.name;
      linksDiv.appendChild(link);
    });
  </script>
</body>
</html>
